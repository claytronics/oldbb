   1               		.file	"test.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__CCP__ = 0x34
   7               	__tmp_reg__ = 0
   8               	__zero_reg__ = 1
   9               		.text
  10               	.Ltext0:
  11               	.global	myMain
  13               	myMain:
  14               	.LFB6:
  15               		.file 1 "arch-blocks/system/test.bb"
   1:arch-blocks/system/test.bb **** #include "handler.bbh"
   2:arch-blocks/system/test.bb **** #include "data_link.bbh"
   3:arch-blocks/system/test.bb **** #include "led.bbh"
   4:arch-blocks/system/test.bb **** #include "log.bbh"
   5:arch-blocks/system/test.bb **** #include "handler.bbh"
   6:arch-blocks/system/test.bb **** #include "block.bbh"
   7:arch-blocks/system/test.bb **** #include "ensemble.bbh"
   8:arch-blocks/system/test.bb **** #include "clock.bbh"
   9:arch-blocks/system/test.bb **** #include "block_config.bbh"
  10:arch-blocks/system/test.bb **** #include "memory.bbh"
  11:arch-blocks/system/test.bb ****   
  12:arch-blocks/system/test.bb **** void getCmdData(void);
  13:arch-blocks/system/test.bb **** 
  14:arch-blocks/system/test.bb **** void myMain(void)
  15:arch-blocks/system/test.bb **** {
  16               		.loc 1 15 0
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19               	/* stack size = 0 */
  20               	.L__stack_usage = 0
  16:arch-blocks/system/test.bb **** 
  17:arch-blocks/system/test.bb ****   setColor(WHITE);
  21               		.loc 1 17 0
  22 0000 86E0      		ldi r24,lo8(6)
  23 0002 0E94 0000 		call setColor
  24               	.LVL0:
  25               	.L2:
  26 0006 00C0      		rjmp .L2
  27               	.LFE6:
  29               		.section	.rodata.str1.1,"aMS",@progbits,1
  30               	.LC0:
  31 0000 636F 6C6F 		.string	"color change to RED"
  31      7220 6368 
  31      616E 6765 
  31      2074 6F20 
  31      5245 4400 
  32               	.LC1:
  33 0014 636F 6C6F 		.string	"color change to ORANGE"
  33      7220 6368 
  33      616E 6765 
  33      2074 6F20 
  33      4F52 414E 
  34               	.LC2:
  35 002b 636F 6C6F 		.string	"color change to YELLOW"
  35      7220 6368 
  35      616E 6765 
  35      2074 6F20 
  35      5945 4C4C 
  36               	.LC3:
  37 0042 636F 6C6F 		.string	"color change to GREEN"
  37      7220 6368 
  37      616E 6765 
  37      2074 6F20 
  37      4752 4545 
  38               	.LC4:
  39 0058 636F 6C6F 		.string	"color change to AQUA"
  39      7220 6368 
  39      616E 6765 
  39      2074 6F20 
  39      4151 5541 
  40               	.LC5:
  41 006d 636F 6C6F 		.string	"color change to BLUE"
  41      7220 6368 
  41      616E 6765 
  41      2074 6F20 
  41      424C 5545 
  42               	.LC6:
  43 0082 636F 6C6F 		.string	"color change to WHITE"
  43      7220 6368 
  43      616E 6765 
  43      2074 6F20 
  43      5748 4954 
  44               	.LC7:
  45 0098 636F 6C6F 		.string	"color change to PURPLE"
  45      7220 6368 
  45      616E 6765 
  45      2074 6F20 
  45      5055 5250 
  46               	.LC8:
  47 00af 636F 6C6F 		.string	"color change to PINK"
  47      7220 6368 
  47      616E 6765 
  47      2074 6F20 
  47      5049 4E4B 
  48               	.LC9:
  49 00c4 554E 4B4E 		.string	"UNKNOWN COMMAND"
  49      4F57 4E20 
  49      434F 4D4D 
  49      414E 4400 
  50               		.text
  51               	.global	getCmdData
  53               	getCmdData:
  54               	.LFB7:
  18:arch-blocks/system/test.bb ****   
  19:arch-blocks/system/test.bb ****   while(1);
  20:arch-blocks/system/test.bb **** }
  21:arch-blocks/system/test.bb **** 
  22:arch-blocks/system/test.bb **** void getCmdData(void)
  23:arch-blocks/system/test.bb **** {
  55               		.loc 1 23 0
  56 0008 CF93      		push r28
  57               	.LCFI0:
  58 000a DF93      		push r29
  59               	.LCFI1:
  60 000c CDB7      		in r28,__SP_L__
  61 000e DEB7      		in r29,__SP_H__
  62               	.LCFI2:
  63 0010 C659      		subi r28,-106
  64 0012 D109      		sbc r29,__zero_reg__
  65               	.LCFI3:
  66 0014 CDBF      		out __SP_L__,r28
  67 0016 DEBF      		out __SP_H__,r29
  68               	/* prologue: function */
  69               	/* frame size = 150 */
  70               	/* stack size = 152 */
  71               	.L__stack_usage = 152
  24:arch-blocks/system/test.bb ****   #ifdef LOG_DEBUG
  25:arch-blocks/system/test.bb ****   char s[150];
  26:arch-blocks/system/test.bb ****   switch (thisChunk->data[3]){ //thisChunk->data[3] always = 0, can't figure out WHY???
  72               		.loc 1 26 0
  73 0018 E091 0000 		lds r30,thisChunk
  74 001c F091 0000 		lds r31,thisChunk+1
  75 0020 8381      		ldd r24,Z+3
  76 0022 8430      		cpi r24,lo8(4)
  77 0024 01F0      		breq .L9
  78 0026 00F4      		brsh .L14
  79 0028 8130      		cpi r24,lo8(1)
  80 002a 01F0      		breq .L6
  81 002c 00F0      		brlo .L5
  82 002e 8230      		cpi r24,lo8(2)
  83 0030 01F0      		breq .L7
  84 0032 8330      		cpi r24,lo8(3)
  85 0034 01F0      		breq .+2
  86 0036 00C0      		rjmp .L4
  87 0038 00C0      		rjmp .L8
  88               	.L14:
  89 003a 8630      		cpi r24,lo8(6)
  90 003c 01F0      		breq .L11
  91 003e 00F0      		brlo .L10
  92 0040 8730      		cpi r24,lo8(7)
  93 0042 01F0      		breq .L12
  94 0044 8830      		cpi r24,lo8(8)
  95 0046 01F4      		brne .L4
  96 0048 00C0      		rjmp .L13
  97               	.L5:
  27:arch-blocks/system/test.bb ****     case 0:
  28:arch-blocks/system/test.bb ****       setColor(RED);
  98               		.loc 1 28 0
  99 004a 80E0      		ldi r24,0
 100 004c 0E94 0000 		call setColor
 101               	.LVL1:
  29:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to RED");
 102               		.loc 1 29 0
 103 0050 60E0      		ldi r22,lo8(.LC0)
 104 0052 70E0      		ldi r23,hi8(.LC0)
 105 0054 00C0      		rjmp .L16
 106               	.L6:
  30:arch-blocks/system/test.bb ****     break;
  31:arch-blocks/system/test.bb ****     case 1:
  32:arch-blocks/system/test.bb ****       setColor(ORANGE);
 107               		.loc 1 32 0
 108 0056 81E0      		ldi r24,lo8(1)
 109 0058 0E94 0000 		call setColor
 110               	.LVL2:
  33:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to ORANGE");
 111               		.loc 1 33 0
 112 005c 60E0      		ldi r22,lo8(.LC1)
 113 005e 70E0      		ldi r23,hi8(.LC1)
 114 0060 00C0      		rjmp .L16
 115               	.L7:
  34:arch-blocks/system/test.bb ****     break;
  35:arch-blocks/system/test.bb ****     case 2:
  36:arch-blocks/system/test.bb ****       setColor(YELLOW);
 116               		.loc 1 36 0
 117 0062 82E0      		ldi r24,lo8(2)
 118 0064 0E94 0000 		call setColor
 119               	.LVL3:
  37:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to YELLOW");
 120               		.loc 1 37 0
 121 0068 60E0      		ldi r22,lo8(.LC2)
 122 006a 70E0      		ldi r23,hi8(.LC2)
 123 006c 00C0      		rjmp .L16
 124               	.L8:
  38:arch-blocks/system/test.bb ****     break;
  39:arch-blocks/system/test.bb ****     case 3:
  40:arch-blocks/system/test.bb ****       setColor(GREEN);
 125               		.loc 1 40 0
 126 006e 83E0      		ldi r24,lo8(3)
 127 0070 0E94 0000 		call setColor
 128               	.LVL4:
  41:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to GREEN");
 129               		.loc 1 41 0
 130 0074 60E0      		ldi r22,lo8(.LC3)
 131 0076 70E0      		ldi r23,hi8(.LC3)
 132 0078 00C0      		rjmp .L16
 133               	.L9:
  42:arch-blocks/system/test.bb ****     break;
  43:arch-blocks/system/test.bb ****     case 4:
  44:arch-blocks/system/test.bb ****       setColor(AQUA);
 134               		.loc 1 44 0
 135 007a 84E0      		ldi r24,lo8(4)
 136 007c 0E94 0000 		call setColor
 137               	.LVL5:
  45:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to AQUA");
 138               		.loc 1 45 0
 139 0080 60E0      		ldi r22,lo8(.LC4)
 140 0082 70E0      		ldi r23,hi8(.LC4)
 141 0084 00C0      		rjmp .L16
 142               	.L10:
  46:arch-blocks/system/test.bb ****     break;
  47:arch-blocks/system/test.bb ****     case 5:
  48:arch-blocks/system/test.bb ****       setColor(BLUE);
 143               		.loc 1 48 0
 144 0086 85E0      		ldi r24,lo8(5)
 145 0088 0E94 0000 		call setColor
 146               	.LVL6:
  49:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to BLUE");
 147               		.loc 1 49 0
 148 008c 60E0      		ldi r22,lo8(.LC5)
 149 008e 70E0      		ldi r23,hi8(.LC5)
 150 0090 00C0      		rjmp .L16
 151               	.L11:
  50:arch-blocks/system/test.bb ****     break;
  51:arch-blocks/system/test.bb ****     case 6:
  52:arch-blocks/system/test.bb ****       setColor(WHITE);
 152               		.loc 1 52 0
 153 0092 86E0      		ldi r24,lo8(6)
 154 0094 0E94 0000 		call setColor
 155               	.LVL7:
  53:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to WHITE");
 156               		.loc 1 53 0
 157 0098 60E0      		ldi r22,lo8(.LC6)
 158 009a 70E0      		ldi r23,hi8(.LC6)
 159 009c 00C0      		rjmp .L16
 160               	.L12:
  54:arch-blocks/system/test.bb ****     break;
  55:arch-blocks/system/test.bb ****     case 7:
  56:arch-blocks/system/test.bb ****       setColor(PURPLE);
 161               		.loc 1 56 0
 162 009e 87E0      		ldi r24,lo8(7)
 163 00a0 0E94 0000 		call setColor
 164               	.LVL8:
  57:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to PURPLE");
 165               		.loc 1 57 0
 166 00a4 60E0      		ldi r22,lo8(.LC7)
 167 00a6 70E0      		ldi r23,hi8(.LC7)
 168 00a8 00C0      		rjmp .L16
 169               	.L13:
  58:arch-blocks/system/test.bb ****     break;
  59:arch-blocks/system/test.bb ****     case 8:
  60:arch-blocks/system/test.bb ****       setColor(PINK);
 170               		.loc 1 60 0
 171 00aa 88E0      		ldi r24,lo8(8)
 172 00ac 0E94 0000 		call setColor
 173               	.LVL9:
  61:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "color change to PINK");
 174               		.loc 1 61 0
 175 00b0 60E0      		ldi r22,lo8(.LC8)
 176 00b2 70E0      		ldi r23,hi8(.LC8)
 177 00b4 00C0      		rjmp .L16
 178               	.L4:
  62:arch-blocks/system/test.bb ****     break;
  63:arch-blocks/system/test.bb ****     default:
  64:arch-blocks/system/test.bb ****       setIntensity(0);
 179               		.loc 1 64 0
 180 00b6 80E0      		ldi r24,0
 181 00b8 0E94 0000 		call setIntensity
 182               	.LVL10:
  65:arch-blocks/system/test.bb ****       snprintf(s, 150*sizeof(char), "UNKNOWN COMMAND");
 183               		.loc 1 65 0
 184 00bc 60E0      		ldi r22,lo8(.LC9)
 185 00be 70E0      		ldi r23,hi8(.LC9)
 186               	.L16:
 187 00c0 CE01      		movw r24,r28
 188 00c2 0196      		adiw r24,1
 189 00c4 0E94 0000 		call strcpy
 190               	.LVL11:
  66:arch-blocks/system/test.bb ****     break;
  67:arch-blocks/system/test.bb ****   }      
  68:arch-blocks/system/test.bb ****   s[149] = '\0';
 191               		.loc 1 68 0
 192 00c8 CA56      		subi r28,lo8(-150)
 193 00ca DF4F      		sbci r29,hi8(-150)
 194 00cc 1882      		st Y,__zero_reg__
 195 00ce C659      		subi r28,lo8(150)
 196 00d0 D040      		sbci r29,hi8(150)
  69:arch-blocks/system/test.bb ****   printDebug(s);
 197               		.loc 1 69 0
 198 00d2 CE01      		movw r24,r28
 199 00d4 0196      		adiw r24,1
 200 00d6 0E94 0000 		call printDebug
 201               	.LVL12:
 202               	/* epilogue start */
  70:arch-blocks/system/test.bb ****   #endif
  71:arch-blocks/system/test.bb **** }
 203               		.loc 1 71 0
 204 00da CA56      		subi r28,106
 205 00dc DF4F      		sbci r29,-1
 206 00de CDBF      		out __SP_L__,r28
 207 00e0 DEBF      		out __SP_H__,r29
 208 00e2 DF91      		pop r29
 209 00e4 CF91      		pop r28
 210 00e6 0895      		ret
 211               	.LFE7:
 213               	.global	userRegistration
 215               	userRegistration:
 216               	.LFB8:
  72:arch-blocks/system/test.bb **** 
  73:arch-blocks/system/test.bb **** void userRegistration(void)
  74:arch-blocks/system/test.bb **** {
 217               		.loc 1 74 0
 218               	/* prologue: function */
 219               	/* frame size = 0 */
 220               	/* stack size = 0 */
 221               	.L__stack_usage = 0
  75:arch-blocks/system/test.bb **** 	registerHandler(SYSTEM_MAIN, (GenericHandler)&myMain);
 222               		.loc 1 75 0
 223 00e8 60E0      		ldi r22,lo8(gs(myMain))
 224 00ea 70E0      		ldi r23,hi8(gs(myMain))
 225 00ec 81E0      		ldi r24,lo8(1)
 226 00ee 0E94 0000 		call registerHandler
 227               	.LVL13:
  76:arch-blocks/system/test.bb **** 	registerHandler(EVENT_COMMAND_RECEIVED, (GenericHandler)&getCmdData);
 228               		.loc 1 76 0
 229 00f2 60E0      		ldi r22,lo8(gs(getCmdData))
 230 00f4 70E0      		ldi r23,hi8(gs(getCmdData))
 231 00f6 85E1      		ldi r24,lo8(21)
 232 00f8 0C94 0000 		jmp registerHandler
 233               	.LVL14:
 234               	.LFE8:
 298               	.Letext0:
 299               		.file 2 "/usr/lib/gcc/avr/4.7.2/../../../avr/include/stdint.h"
 300               		.file 3 "/home/anaz/Desktop/oldbb-ssh/build/src-bobby/system/defs.bbh"
 301               		.file 4 "/home/anaz/Desktop/oldbb-ssh/build/src-bobby/system/handler.bbh"
 302               		.file 5 "/home/anaz/Desktop/oldbb-ssh/build/src-bobby/system/memory.bbh"
 303               		.file 6 "/home/anaz/Desktop/oldbb-ssh/build/src-bobby/system/led.bbh"
 304               		.file 7 "/home/anaz/Desktop/oldbb-ssh/build/src-bobby/system/data_link.bbh"
 305               		.file 8 "<built-in>"
 306               		.file 9 "/home/anaz/Desktop/oldbb-ssh/build/src-bobby/system/log.bbh"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 test.c
     /tmp/ccqEikiV.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccqEikiV.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccqEikiV.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccqEikiV.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccqEikiV.s:6      *ABS*:0000000000000034 __CCP__
     /tmp/ccqEikiV.s:7      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccqEikiV.s:8      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccqEikiV.s:13     .text:0000000000000000 myMain
     /tmp/ccqEikiV.s:53     .text:0000000000000008 getCmdData
     /tmp/ccqEikiV.s:215    .text:00000000000000e8 userRegistration

UNDEFINED SYMBOLS
setColor
thisChunk
setIntensity
strcpy
printDebug
registerHandler
__do_copy_data
