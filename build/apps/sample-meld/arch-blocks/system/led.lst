   1               		.file	"led.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__CCP__ = 0x34
   7               	__tmp_reg__ = 0
   8               	__zero_reg__ = 1
   9               		.text
  10               	.Ltext0:
  11               	.global	getColor
  13               	getColor:
  14               	.LFB5:
  15               		.file 1 "/home/anaz/blinkyblocks/build/src-bobby/system/led.bb"
   1:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** #include "led.bbh"
   2:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** #include "../hw-api/hwLED.h"
   3:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
   4:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** // stolen from: http://www.free-webmaster-tools.com/colorpicker.htm
   5:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** //enum {RED, ORANGE, YELLOW, GREEN, BLUE, INDIGO, VIOLET, WHITE, AQUA, FUCHSIA, LAWNGREEN, LIGHTPIN
   6:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** uint8_t colors[NUM_COLORS][3] = {
   7:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** #ifdef BBSIM
   8:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0x00, 0x00}, // red
   9:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0xA5, 0x00}, // orange
  10:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0xFF, 0x00}, // yellow
  11:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0x00, 0xFF, 0x00}, // green
  12:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0x00, 0xFF, 0xFF}, // aqua
  13:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0x00, 0x00, 0xFF}, // blue
  14:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0xFF, 0xFF}, // white
  15:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0x00, 0xFF}, // purple
  16:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0x00, 0x2D}, // pink
  17:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** #else
  18:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0x00, 0x00}, // red
  19:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xE1, 0x2D, 0x00}, // orange
  20:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0xEB, 0x00}, // yellow
  21:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0x00, 0xFF, 0x00}, // green
  22:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0x00, 0xFF, 0xFF}, // aqua
  23:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0x00, 0x00, 0xFF}, // blue
  24:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0xFF, 0xFF}, // white
  25:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0x00, 0xFF}, // purple
  26:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {0xFF, 0x00, 0x2D}, // pink
  27:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** #endif
  28:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** //{0x7C, 0xFC, 0x00}, // lawngrean
  29:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** //{0xFF, 0xB6, 0xC1}, // lightpink
  30:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** //{0x77, 0x88, 0x99}, // light slate gray
  31:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** //{0x8B, 0x45, 0x13}, // saddlebrown
  32:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** //{0xFF, 0xD7, 0x00}, // gold
  33:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** //{0x4B, 0x00, 0xB0}, // indigo
  34:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** //{0xEE, 0x82, 0xEE}, // violet
  35:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** };
  36:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  37:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** threadvar byte 		currentRGB[3];
  38:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** threadvar Color 		currentColor;
  39:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** threadvar Intensity 	currentIntensity = INTENSITY_MAX;
  40:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  41:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** Color getColor()
  42:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
  16               		.loc 1 42 0
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19               	/* stack size = 0 */
  20               	.L__stack_usage = 0
  43:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	return currentColor;
  44:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** }
  21               		.loc 1 44 0
  22 0000 8091 0000 		lds r24,currentColor
  23 0004 0895      		ret
  24               	.LFE5:
  26               	.global	getNextColor
  28               	getNextColor:
  29               	.LFB6:
  45:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  46:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** Color getNextColor()
  47:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
  30               		.loc 1 47 0
  31               	/* prologue: function */
  32               	/* frame size = 0 */
  33               	/* stack size = 0 */
  34               	.L__stack_usage = 0
  48:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	Color tmp = currentColor;
  35               		.loc 1 48 0
  36 0006 8091 0000 		lds r24,currentColor
  37               	.LVL0:
  49:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	
  50:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	tmp++;
  38               		.loc 1 50 0
  39 000a 8F5F      		subi r24,lo8(-(1))
  40               	.LVL1:
  51:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	
  52:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	if(tmp >= NUM_COLORS)
  41               		.loc 1 52 0
  42 000c 8930      		cpi r24,lo8(9)
  43 000e 00F0      		brlo .L3
  53:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	{
  54:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 		tmp = 0;
  44               		.loc 1 54 0
  45 0010 80E0      		ldi r24,0
  46               	.LVL2:
  47               	.L3:
  55:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	}
  56:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  57:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	return tmp;
  58:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** }
  48               		.loc 1 58 0
  49 0012 0895      		ret
  50               	.LFE6:
  52               	.global	setColor
  54               	setColor:
  55               	.LFB7:
  59:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  60:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** void setColor(Color c)
  61:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
  56               		.loc 1 61 0
  57               	.LVL3:
  58               	/* prologue: function */
  59               	/* frame size = 0 */
  60               	/* stack size = 0 */
  61               	.L__stack_usage = 0
  62:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	currentColor = c;
  62               		.loc 1 62 0
  63 0014 8093 0000 		sts currentColor,r24
  63:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  64:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	setLED(colors[c][0], colors[c][1], colors[c][2], currentIntensity);
  64               		.loc 1 64 0
  65 0018 90E0      		ldi r25,0
  66               	.LVL4:
  67 001a FC01      		movw r30,r24
  68 001c EE0F      		lsl r30
  69 001e FF1F      		rol r31
  70 0020 E80F      		add r30,r24
  71 0022 F91F      		adc r31,r25
  72 0024 E050      		subi r30,lo8(-(colors))
  73 0026 F040      		sbci r31,hi8(-(colors))
  74               	.LBB6:
  75               	.LBB7:
  65:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** }
  66:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  67:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** Color setNextColor()
  68:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
  69:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	Color tmp = getNextColor();
  70:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  71:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	setColor(tmp);
  72:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	
  73:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	return currentColor;
  74:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** }
  75:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  76:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** void setLED(byte r, byte g, byte b, Intensity i)
  77:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
  78:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	setHWLED(r,g,b,i);
  76               		.loc 1 78 0
  77 0028 2091 0000 		lds r18,currentIntensity
  78 002c 4281      		ldd r20,Z+2
  79 002e 6181      		ldd r22,Z+1
  80 0030 8081      		ld r24,Z
  81               	.LVL5:
  82 0032 0C94 0000 		jmp setHWLED
  83               	.LVL6:
  84               	.LBE7:
  85               	.LBE6:
  86               	.LFE7:
  88               	.global	setNextColor
  90               	setNextColor:
  91               	.LFB8:
  68:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
  92               		.loc 1 68 0
  93               	/* prologue: function */
  94               	/* frame size = 0 */
  95               	/* stack size = 0 */
  96               	.L__stack_usage = 0
  69:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	Color tmp = getNextColor();
  97               		.loc 1 69 0
  98 0036 0E94 0000 		call getNextColor
  99               	.LVL7:
  71:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	setColor(tmp);
 100               		.loc 1 71 0
 101 003a 0E94 0000 		call setColor
 102               	.LVL8:
  74:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** }
 103               		.loc 1 74 0
 104 003e 8091 0000 		lds r24,currentColor
 105 0042 0895      		ret
 106               	.LFE8:
 108               	.global	setLED
 110               	setLED:
 111               	.LFB9:
  77:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
 112               		.loc 1 77 0
 113               	.LVL9:
 114               	/* prologue: function */
 115               	/* frame size = 0 */
 116               	/* stack size = 0 */
 117               	.L__stack_usage = 0
 118               		.loc 1 78 0
 119 0044 0C94 0000 		jmp setHWLED
 120               	.LVL10:
 121               	.LFE9:
 123               	.global	setIntensity
 125               	setIntensity:
 126               	.LFB10:
  79:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** }
  80:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  81:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** void setIntensity(Intensity i)
  82:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
 127               		.loc 1 82 0
 128               	.LVL11:
 129               	/* prologue: function */
 130               	/* frame size = 0 */
 131               	/* stack size = 0 */
 132               	.L__stack_usage = 0
  83:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	currentIntensity = i;
 133               		.loc 1 83 0
 134 0048 8093 0000 		sts currentIntensity,r24
 135               	.LVL12:
 136               	.LBB8:
 137               	.LBB9:
  78:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	setHWLED(r,g,b,i);
 138               		.loc 1 78 0
 139 004c 282F      		mov r18,r24
 140 004e 4091 0000 		lds r20,currentRGB+2
 141 0052 6091 0000 		lds r22,currentRGB+1
 142 0056 8091 0000 		lds r24,currentRGB
 143               	.LVL13:
 144 005a 0C94 0000 		jmp setHWLED
 145               	.LVL14:
 146               	.LBE9:
 147               	.LBE8:
 148               	.LFE10:
 150               	.global	getIntensity
 152               	getIntensity:
 153               	.LFB11:
  84:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	
  85:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	setLED(currentRGB[0], currentRGB[1], currentRGB[2], i);
  86:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** }
  87:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  88:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** Intensity getIntensity()
  89:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
 154               		.loc 1 89 0
 155               	/* prologue: function */
 156               	/* frame size = 0 */
 157               	/* stack size = 0 */
 158               	.L__stack_usage = 0
  90:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	return currentIntensity;
  91:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** }
 159               		.loc 1 91 0
 160 005e 8091 0000 		lds r24,currentIntensity
 161 0062 0895      		ret
 162               	.LFE11:
 164               	.global	initLED
 166               	initLED:
 167               	.LFB12:
  92:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 
  93:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** void initLED()
  94:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** {
 168               		.loc 1 94 0
 169               	/* prologue: function */
 170               	/* frame size = 0 */
 171               	/* stack size = 0 */
 172               	.L__stack_usage = 0
  95:/home/anaz/blinkyblocks/build/src-bobby/system/led.bb **** 	initHWLED();
 173               		.loc 1 95 0
 174 0064 0C94 0000 		jmp initHWLED
 175               	.LVL15:
 176               	.LFE12:
 178               	.global	currentIntensity
 179               		.data
 182               	currentIntensity:
 183 0000 FF        		.byte	-1
 184               		.comm	currentColor,1,1
 185               		.comm	currentRGB,3,1
 186               	.global	colors
 189               	colors:
 190 0001 FF        		.byte	-1
 191 0002 00        		.byte	0
 192 0003 00        		.byte	0
 193 0004 E1        		.byte	-31
 194 0005 2D        		.byte	45
 195 0006 00        		.byte	0
 196 0007 FF        		.byte	-1
 197 0008 EB        		.byte	-21
 198 0009 00        		.byte	0
 199 000a 00        		.byte	0
 200 000b FF        		.byte	-1
 201 000c 00        		.byte	0
 202 000d 00        		.byte	0
 203 000e FF        		.byte	-1
 204 000f FF        		.byte	-1
 205 0010 00        		.byte	0
 206 0011 00        		.byte	0
 207 0012 FF        		.byte	-1
 208 0013 FF        		.byte	-1
 209 0014 FF        		.byte	-1
 210 0015 FF        		.byte	-1
 211 0016 FF        		.byte	-1
 212 0017 00        		.byte	0
 213 0018 FF        		.byte	-1
 214 0019 FF        		.byte	-1
 215 001a 00        		.byte	0
 216 001b 2D        		.byte	45
 299               	.Letext0:
 300               		.file 2 "/usr/lib/gcc/avr/4.7.2/../../../avr/include/stdint.h"
 301               		.file 3 "/home/anaz/blinkyblocks/build/src-bobby/system/defs.bbh"
 302               		.file 4 "/home/anaz/blinkyblocks/build/src-bobby/system/led.bbh"
 303               		.file 5 "/home/anaz/blinkyblocks/build/src-bobby/system/../hw-api/hwLED.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 led.c
/home/anaz/tmp/ccHrUtvf.s:2      *ABS*:000000000000003e __SP_H__
/home/anaz/tmp/ccHrUtvf.s:3      *ABS*:000000000000003d __SP_L__
/home/anaz/tmp/ccHrUtvf.s:4      *ABS*:000000000000003f __SREG__
/home/anaz/tmp/ccHrUtvf.s:5      *ABS*:000000000000003b __RAMPZ__
/home/anaz/tmp/ccHrUtvf.s:6      *ABS*:0000000000000034 __CCP__
/home/anaz/tmp/ccHrUtvf.s:7      *ABS*:0000000000000000 __tmp_reg__
/home/anaz/tmp/ccHrUtvf.s:8      *ABS*:0000000000000001 __zero_reg__
/home/anaz/tmp/ccHrUtvf.s:13     .text:0000000000000000 getColor
                            *COM*:0000000000000001 currentColor
/home/anaz/tmp/ccHrUtvf.s:28     .text:0000000000000006 getNextColor
/home/anaz/tmp/ccHrUtvf.s:54     .text:0000000000000014 setColor
/home/anaz/tmp/ccHrUtvf.s:189    .data:0000000000000001 colors
/home/anaz/tmp/ccHrUtvf.s:182    .data:0000000000000000 currentIntensity
/home/anaz/tmp/ccHrUtvf.s:90     .text:0000000000000036 setNextColor
/home/anaz/tmp/ccHrUtvf.s:110    .text:0000000000000044 setLED
/home/anaz/tmp/ccHrUtvf.s:125    .text:0000000000000048 setIntensity
                            *COM*:0000000000000003 currentRGB
/home/anaz/tmp/ccHrUtvf.s:152    .text:000000000000005e getIntensity
/home/anaz/tmp/ccHrUtvf.s:166    .text:0000000000000064 initLED

UNDEFINED SYMBOLS
setHWLED
initHWLED
__do_copy_data
__do_clear_bss
