   1               		.file	"hwBlockTick.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__CCP__ = 0x34
   7               	__tmp_reg__ = 0
   8               	__zero_reg__ = 1
   9               		.text
  10               	.Ltext0:
  11               	.global	scaryBlockTickHack
  13               	scaryBlockTickHack:
  14               	.LFB6:
  15               		.file 1 "/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c"
   1:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** #include <avr/io.h>
   2:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** #include <avr/interrupt.h>
   3:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** #include "../system/defs.h"
   4:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** #include "../system/block.h"
   5:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** #include <avr/wdt.h>
   6:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** #include "../hw-api/hwBlockTick.h"
   7:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 
   8:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** extern int blockTickRunning;
   9:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 
  10:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** void scaryBlockTickHack(void)
  11:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** {
  16               		.loc 1 11 0
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19               	/* stack size = 0 */
  20               	.L__stack_usage = 0
  12:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	TCF0.CTRLA = TC_CLKSEL_DIV1_gc;
  21               		.loc 1 12 0
  22 0000 E0E0      		ldi r30,0
  23 0002 FBE0      		ldi r31,lo8(11)
  24 0004 81E0      		ldi r24,lo8(1)
  25 0006 8083      		st Z,r24
  13:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	
  14:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	TCF0.PER = 16000;  // 2000hz blocktick
  26               		.loc 1 14 0
  27 0008 80E8      		ldi r24,lo8(-128)
  28 000a 9EE3      		ldi r25,lo8(62)
  29 000c 86A3      		std Z+38,r24
  30 000e 97A3      		std Z+39,r25
  15:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	TCF0.INTCTRLA = TC_OVFINTLVL_MED_gc;
  31               		.loc 1 15 0
  32 0010 82E0      		ldi r24,lo8(2)
  33 0012 8683      		std Z+6,r24
  34 0014 0895      		ret
  35               	.LFE6:
  37               	.global	initBlockTick
  39               	initBlockTick:
  40               	.LFB7:
  16:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** }
  17:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 
  18:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 
  19:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** void initBlockTick()
  20:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** {
  41               		.loc 1 20 0
  42               	/* prologue: function */
  43               	/* frame size = 0 */
  44               	/* stack size = 0 */
  45               	.L__stack_usage = 0
  21:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 
  22:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	blockTickRunning=0;
  46               		.loc 1 22 0
  47 0016 1092 0000 		sts blockTickRunning,__zero_reg__
  48 001a 1092 0000 		sts blockTickRunning+1,__zero_reg__
  23:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c ****      
  24:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	scaryBlockTickHack();
  49               		.loc 1 24 0
  50 001e 0E94 0000 		call scaryBlockTickHack
  51               	.LVL0:
  25:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 
  26:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	/* Enable interrupt levels. */
  27:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	PMIC.CTRL |= PMIC_HILVLEN_bm | PMIC_MEDLVLEN_bm | PMIC_LOLVLEN_bm;
  52               		.loc 1 27 0
  53 0022 E0EA      		ldi r30,lo8(-96)
  54 0024 F0E0      		ldi r31,0
  55 0026 8281      		ldd r24,Z+2
  56 0028 8760      		ori r24,lo8(7)
  57 002a 8283      		std Z+2,r24
  28:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	sei();
  58               		.loc 1 28 0
  59               	/* #APP */
  60               	 ;  28 "/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c" 1
  61 002c 7894      		sei
  62               	 ;  0 "" 2
  63               	/* #NOAPP */
  64 002e 0895      		ret
  65               	.LFE7:
  67               	.global	__vector_108
  69               	__vector_108:
  70               	.LFB8:
  29:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	
  30:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** }
  31:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 
  32:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** // part of scary blocktick hack
  33:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** // called every 38400 khz or so
  34:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** ISR(TCF0_OVF_vect)
  35:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** {
  71               		.loc 1 35 0
  72 0030 1F92      		push r1
  73               	.LCFI0:
  74 0032 0F92      		push r0
  75               	.LCFI1:
  76 0034 0FB6      		in r0,__SREG__
  77 0036 0F92      		push r0
  78 0038 1124      		clr __zero_reg__
  79 003a 0BB6      		in r0,__RAMPZ__
  80 003c 0F92      		push r0
  81 003e 2F93      		push r18
  82               	.LCFI2:
  83 0040 3F93      		push r19
  84               	.LCFI3:
  85 0042 4F93      		push r20
  86               	.LCFI4:
  87 0044 5F93      		push r21
  88               	.LCFI5:
  89 0046 6F93      		push r22
  90               	.LCFI6:
  91 0048 7F93      		push r23
  92               	.LCFI7:
  93 004a 8F93      		push r24
  94               	.LCFI8:
  95 004c 9F93      		push r25
  96               	.LCFI9:
  97 004e AF93      		push r26
  98               	.LCFI10:
  99 0050 BF93      		push r27
 100               	.LCFI11:
 101 0052 EF93      		push r30
 102               	.LCFI12:
 103 0054 FF93      		push r31
 104               	.LCFI13:
 105               	/* prologue: Signal */
 106               	/* frame size = 0 */
 107               	/* stack size = 16 */
 108               	.L__stack_usage = 16
  36:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	if (!blockTickRunning)
 109               		.loc 1 36 0
 110 0056 8091 0000 		lds r24,blockTickRunning
 111 005a 9091 0000 		lds r25,blockTickRunning+1
 112 005e 892B      		or r24,r25
 113 0060 01F4      		brne .L3
  37:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	  {
  38:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	    wdt_reset();
 114               		.loc 1 38 0
 115               	/* #APP */
 116               	 ;  38 "/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c" 1
 117 0062 A895      		wdr
 118               	 ;  0 "" 2
  39:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	    blockTick();
 119               		.loc 1 39 0
 120               	/* #NOAPP */
 121 0064 0E94 0000 		call blockTick
 122               	.LVL1:
 123               	.L3:
 124               	/* epilogue start */
  40:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** 	  }
  41:/home/pthalamy/CMU/oldbb/build/src-bobby/hw-block/hwBlockTick.c **** }
 125               		.loc 1 41 0
 126 0068 FF91      		pop r31
 127 006a EF91      		pop r30
 128 006c BF91      		pop r27
 129 006e AF91      		pop r26
 130 0070 9F91      		pop r25
 131 0072 8F91      		pop r24
 132 0074 7F91      		pop r23
 133 0076 6F91      		pop r22
 134 0078 5F91      		pop r21
 135 007a 4F91      		pop r20
 136 007c 3F91      		pop r19
 137 007e 2F91      		pop r18
 138 0080 0F90      		pop r0
 139 0082 0BBE      		out __RAMPZ__,r0
 140 0084 0F90      		pop r0
 141 0086 0FBE      		out __SREG__,r0
 142 0088 0F90      		pop r0
 143 008a 1F90      		pop r1
 144 008c 1895      		reti
 145               	.LFE8:
 273               	.Letext0:
 274               		.file 2 "/usr/lib/gcc/avr/4.7.2/../../../avr/include/stdint.h"
 275               		.file 3 "/usr/lib/gcc/avr/4.7.2/../../../avr/include/avr/iox256a3.h"
 276               		.file 4 "/home/pthalamy/CMU/oldbb/build/src-bobby/system/block.bbh"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 hwBlockTick.c
     /tmp/ccoXlsTC.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccoXlsTC.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccoXlsTC.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccoXlsTC.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccoXlsTC.s:6      *ABS*:0000000000000034 __CCP__
     /tmp/ccoXlsTC.s:7      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccoXlsTC.s:8      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccoXlsTC.s:13     .text:0000000000000000 scaryBlockTickHack
     /tmp/ccoXlsTC.s:39     .text:0000000000000016 initBlockTick
     /tmp/ccoXlsTC.s:69     .text:0000000000000030 __vector_108

UNDEFINED SYMBOLS
blockTickRunning
blockTick
